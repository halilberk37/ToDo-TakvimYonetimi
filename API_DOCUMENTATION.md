# üìö TodoCalendar API Dok√ºmantasyonu

## ÔøΩÔøΩ Genel Bilgiler

**Base URL:** `http://127.0.0.1:8000/api/`

**Authentication:** JWT (JSON Web Token) tabanlƒ± kimlik doƒürulama

**Content-Type:** `application/json`

---

## üîê Authentication Endpoints

### 1. Kullanƒ±cƒ± Kaydƒ±
```http
POST /api/auth/register/
```

**Request Body:**
```json
{
    "email": "user@example.com",
    "username": "username",
    "first_name": "Ad",
    "last_name": "Soyad",
    "password": "password123",
    "password_confirm": "password123"
}
```

**Response (201 Created):**
```json
{
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
        "id": 1,
        "email": "user@example.com",
        "username": "username",
        "first_name": "Ad",
        "last_name": "Soyad",
        "full_name": "Ad Soyad",
        "phone_number": null,
        "birth_date": null,
        "profile_picture": null,
        "bio": "",
        "is_verified": false,
        "created_at": "2025-09-14T16:29:43.505281Z",
        "updated_at": "2025-09-14T16:29:43.505288Z"
    }
}
```

### 2. Kullanƒ±cƒ± Giri≈üi
```http
POST /api/auth/login/
```

**Request Body:**
```json
{
    "email": "user@example.com",
    "password": "password123"
}
```

**Response (200 OK):**
```json
{
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
        "id": 1,
        "email": "user@example.com",
        "username": "username",
        "first_name": "Ad",
        "last_name": "Soyad",
        "full_name": "Ad Soyad"
    }
}
```

### 3. Token Yenileme
```http
POST /api/auth/token/refresh/
```

**Request Body:**
```json
{
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**Response (200 OK):**
```json
{
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### 4. Kullanƒ±cƒ± √áƒ±kƒ±≈üƒ±
```http
POST /api/auth/logout/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**Response (205 Reset Content):**
```json
{
    "message": "Ba≈üarƒ±yla √ßƒ±kƒ±≈ü yapƒ±ldƒ±."
}
```

### 5. Profil G√∂r√ºnt√ºleme
```http
GET /api/auth/profile/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "id": 1,
    "email": "user@example.com",
    "username": "username",
    "first_name": "Ad",
    "last_name": "Soyad",
    "full_name": "Ad Soyad",
    "phone_number": "+905551234567",
    "birth_date": "1990-01-01",
    "profile_picture": "http://127.0.0.1:8000/media/profile_pictures/profile.jpg",
    "bio": "Kullanƒ±cƒ± hakkƒ±nda bilgi",
    "is_verified": true,
    "created_at": "2025-09-14T16:29:43.505281Z",
    "updated_at": "2025-09-14T16:29:43.505288Z"
}
```

### 6. Profil G√ºncelleme
```http
PUT /api/auth/profile/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "first_name": "Yeni Ad",
    "last_name": "Yeni Soyad",
    "phone_number": "+905559876543",
    "bio": "G√ºncellenmi≈ü biyografi"
}
```

### 7. ≈ûifre Deƒüi≈ütirme
```http
POST /api/auth/change-password/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "old_password": "eski_sifre",
    "new_password": "yeni_sifre",
    "new_password_confirm": "yeni_sifre"
}
```

---

## üìù Todo Endpoints

### 1. Kategori Listesi
```http
GET /api/todos/categories/
```

**Headers:** `Authorization: Bearer <access_token>`

**Query Parameters:**
- `search`: Kategori adƒ±nda arama
- `ordering`: Sƒ±ralama (`name`, `created_at`)

**Response (200 OK):**
```json
{
    "count": 2,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 1,
            "name": "ƒ∞≈ü",
            "color": "#007bff",
            "todo_count": 5,
            "created_at": "2025-09-14T16:29:43.505281Z",
            "updated_at": "2025-09-14T16:29:43.505288Z"
        }
    ]
}
```

### 2. Kategori Olu≈üturma
```http
POST /api/todos/categories/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "name": "Ki≈üisel",
    "color": "#28a745"
}
```

### 3. Kategori Detayƒ±
```http
GET /api/todos/categories/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 4. Kategori G√ºncelleme
```http
PUT /api/todos/categories/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 5. Kategori Silme
```http
DELETE /api/todos/categories/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 6. Todo Listesi
```http
GET /api/todos/
```

**Headers:** `Authorization: Bearer <access_token>`

**Query Parameters:**
- `is_completed`: Tamamlanma durumu (`true`/`false`)
- `priority`: √ñncelik (`low`, `medium`, `high`)
- `is_important`: √ñnemli mi (`true`/`false`)
- `is_starred`: Yƒ±ldƒ±zlƒ± mƒ± (`true`/`false`)
- `category`: Kategori ID
- `is_overdue`: S√ºresi ge√ßmi≈ü mi (`true`/`false`)
- `search`: Ba≈ülƒ±k ve a√ßƒ±klamada arama
- `ordering`: Sƒ±ralama (`title`, `created_at`, `due_date`, `priority`)

**Response (200 OK):**
```json
{
    "count": 3,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 1,
            "title": "Test Todo",
            "description": "Test a√ßƒ±klama",
            "category": 1,
            "category_name": "ƒ∞≈ü",
            "category_color": "#007bff",
            "is_completed": false,
            "priority": "high",
            "due_date": "2025-09-20T10:00:00Z",
            "is_important": true,
            "is_starred": false,
            "days_until_due": 5,
            "is_overdue": false,
            "created_at": "2025-09-14T16:29:43.505281Z",
            "updated_at": "2025-09-14T16:29:43.505288Z"
        }
    ]
}
```

### 7. Todo Olu≈üturma
```http
POST /api/todos/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "title": "Yeni Todo",
    "description": "Todo a√ßƒ±klamasƒ±",
    "category": 1,
    "priority": "medium",
    "due_date": "2025-09-20T10:00:00Z",
    "is_important": true,
    "is_starred": false,
    "estimated_duration": "02:00:00"
}
```

### 8. Todo Detayƒ±
```http
GET /api/todos/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "id": 1,
    "title": "Test Todo",
    "description": "Test a√ßƒ±klama",
    "category": {
        "id": 1,
        "name": "ƒ∞≈ü",
        "color": "#007bff",
        "todo_count": 5,
        "created_at": "2025-09-14T16:29:43.505281Z",
        "updated_at": "2025-09-14T16:29:43.505288Z"
    },
    "is_completed": false,
    "priority": "high",
    "due_date": "2025-09-20T10:00:00Z",
    "completed_at": null,
    "is_important": true,
    "is_starred": false,
    "estimated_duration": "02:00:00",
    "actual_duration": null,
    "days_until_due": 5,
    "is_overdue": false,
    "duration": "2:00:00",
    "attachments": [],
    "comments": [],
    "created_at": "2025-09-14T16:29:43.505281Z",
    "updated_at": "2025-09-14T16:29:43.505288Z"
}
```

### 9. Todo G√ºncelleme
```http
PUT /api/todos/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 10. Todo Silme
```http
DELETE /api/todos/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 11. Todo Tamamlama Durumu Deƒüi≈ütirme
```http
POST /api/todos/{id}/toggle/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "id": 1,
    "title": "Test Todo",
    "is_completed": true,
    "completed_at": "2025-09-14T16:30:00Z"
}
```

### 12. Todo Yorumu Ekleme
```http
POST /api/todos/{id}/comments/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "comment": "Bu bir yorumdur"
}
```

### 13. Todo ƒ∞statistikleri
```http
GET /api/todos/statistics/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "total_todos": 10,
    "completed_todos": 6,
    "pending_todos": 4,
    "overdue_todos": 1,
    "important_todos": 3,
    "starred_todos": 2,
    "completion_rate": 60.0
}
```

### 14. Yakla≈üan Todo'lar
```http
GET /api/todos/upcoming/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
[
    {
        "id": 1,
        "title": "Yakla≈üan Todo",
        "due_date": "2025-09-16T10:00:00Z",
        "days_until_due": 2,
        "priority": "high"
    }
]
```

---

## üìÖ Calendar Endpoints

### 1. Takvim Listesi
```http
GET /api/calendar/calendars/
```

**Headers:** `Authorization: Bearer <access_token>`

**Query Parameters:**
- `search`: Takvim adƒ± ve a√ßƒ±klamasƒ±nda arama
- `ordering`: Sƒ±ralama (`name`, `created_at`)

**Response (200 OK):**
```json
{
    "count": 2,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 1,
            "name": "Ki≈üisel Takvim",
            "description": "Ki≈üisel etkinliklerim",
            "color": "#28a745",
            "is_default": true,
            "is_public": false,
            "event_count": 5,
            "created_at": "2025-09-14T16:29:43.505281Z",
            "updated_at": "2025-09-14T16:29:43.505288Z"
        }
    ]
}
```

### 2. Takvim Olu≈üturma
```http
POST /api/calendar/calendars/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "name": "ƒ∞≈ü Takvimi",
    "description": "ƒ∞≈ü etkinlikleri",
    "color": "#007bff",
    "is_default": false,
    "is_public": false
}
```

### 3. Takvim Detayƒ±
```http
GET /api/calendar/calendars/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 4. Takvim G√ºncelleme
```http
PUT /api/calendar/calendars/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 5. Takvim Silme
```http
DELETE /api/calendar/calendars/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 6. Etkinlik Listesi
```http
GET /api/calendar/events/
```

**Headers:** `Authorization: Bearer <access_token>`

**Query Parameters:**
- `event_type`: Etkinlik t√ºr√º (`meeting`, `appointment`, `reminder`, `other`)
- `is_important`: √ñnemli mi (`true`/`false`)
- `is_private`: √ñzel mi (`true`/`false`)
- `calendar`: Takvim ID
- `start_date`: Ba≈ülangƒ±√ß tarihi (ISO format)
- `end_date`: Biti≈ü tarihi (ISO format)
- `search`: Ba≈ülƒ±k, a√ßƒ±klama ve konumda arama
- `ordering`: Sƒ±ralama (`title`, `start_datetime`, `created_at`)

**Response (200 OK):**
```json
{
    "count": 3,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 1,
            "title": "Toplantƒ±",
            "description": "Haftalƒ±k toplantƒ±",
            "calendar": 1,
            "calendar_name": "ƒ∞≈ü Takvimi",
            "calendar_color": "#007bff",
            "start_datetime": "2025-09-16T10:00:00Z",
            "end_datetime": "2025-09-16T11:00:00Z",
            "is_all_day": false,
            "event_type": "meeting",
            "location": "Konferans Salonu",
            "is_important": true,
            "is_private": false,
            "duration": "1:00:00",
            "is_past": false,
            "is_current": false,
            "is_upcoming": true,
            "created_at": "2025-09-14T16:29:43.505281Z"
        }
    ]
}
```

### 7. Etkinlik Olu≈üturma
```http
POST /api/calendar/events/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "title": "Yeni Etkinlik",
    "description": "Etkinlik a√ßƒ±klamasƒ±",
    "calendar": 1,
    "start_datetime": "2025-09-20T10:00:00Z",
    "end_datetime": "2025-09-20T11:00:00Z",
    "is_all_day": false,
    "event_type": "meeting",
    "location": "Ofis",
    "is_important": true,
    "is_private": false,
    "reminder_minutes": 15,
    "send_notification": true
}
```

### 8. Etkinlik Detayƒ±
```http
GET /api/calendar/events/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "id": 1,
    "title": "Toplantƒ±",
    "description": "Haftalƒ±k toplantƒ±",
    "calendar": {
        "id": 1,
        "name": "ƒ∞≈ü Takvimi",
        "color": "#007bff",
        "event_count": 5
    },
    "start_datetime": "2025-09-16T10:00:00Z",
    "end_datetime": "2025-09-16T11:00:00Z",
    "is_all_day": false,
    "is_recurring": false,
    "recurrence_pattern": null,
    "recurrence_end_date": null,
    "event_type": "meeting",
    "location": "Konferans Salonu",
    "is_important": true,
    "is_private": false,
    "reminder_minutes": 15,
    "send_notification": true,
    "duration": "1:00:00",
    "is_past": false,
    "is_current": false,
    "is_upcoming": true,
    "participants": [],
    "attachments": [],
    "reminders": [],
    "created_at": "2025-09-14T16:29:43.505281Z",
    "updated_at": "2025-09-14T16:29:43.505288Z"
}
```

### 9. Etkinlik G√ºncelleme
```http
PUT /api/calendar/events/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 10. Etkinlik Silme
```http
DELETE /api/calendar/events/{id}/
```

**Headers:** `Authorization: Bearer <access_token>`

### 11. Etkinlik Katƒ±lƒ±mcƒ±sƒ± Ekleme
```http
POST /api/calendar/events/{id}/participants/
```

**Headers:** `Authorization: Bearer <access_token>`

**Request Body:**
```json
{
    "user": 2,
    "is_organizer": false,
    "response_status": "accepted"
}
```

### 12. Bug√ºnk√º Etkinlikler
```http
GET /api/calendar/events/today/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
[
    {
        "id": 1,
        "title": "Bug√ºnk√º Etkinlik",
        "start_datetime": "2025-09-14T10:00:00Z",
        "end_datetime": "2025-09-14T11:00:00Z",
        "event_type": "meeting"
    }
]
```

### 13. Yakla≈üan Etkinlikler
```http
GET /api/calendar/events/upcoming/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
[
    {
        "id": 1,
        "title": "Yakla≈üan Etkinlik",
        "start_datetime": "2025-09-16T10:00:00Z",
        "end_datetime": "2025-09-16T11:0000Z",
        "event_type": "meeting"
    }
]
```

### 14. Aylƒ±k Etkinlikler
```http
GET /api/calendar/events/month/{year}/{month}/
```

**Headers:** `Authorization: Bearer <access_token>`

**Example:** `GET /api/calendar/events/month/2025/9/`

### 15. Etkinlik ƒ∞statistikleri
```http
GET /api/calendar/statistics/
```

**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
    "total_events": 15,
    "upcoming_events": 8,
    "past_events": 7,
    "today_events": 2,
    "this_week_events": 5,
    "important_events": 3,
    "private_events": 2
}
```

---

## üîí G√ºvenlik ve ƒ∞zinler

### Authentication
- T√ºm API endpoint'leri JWT token ile korunmaktadƒ±r
- Token s√ºresi: 60 dakika
- Refresh token s√ºresi: 7 g√ºn
- Token format: `Bearer <access_token>`

### ƒ∞zinler
- Kullanƒ±cƒ±lar sadece kendi verilerine eri≈üebilir
- Admin kullanƒ±cƒ±larƒ± t√ºm verilere eri≈üebilir
- Etkinlik katƒ±lƒ±mcƒ±larƒ± sadece okuma yapabilir

### Hata Kodlarƒ±
- `400 Bad Request`: Ge√ßersiz veri
- `401 Unauthorized`: Kimlik doƒürulama hatasƒ±
- `403 Forbidden`: ƒ∞zin hatasƒ±
- `404 Not Found`: Kaynak bulunamadƒ±
- `500 Internal Server Error`: Sunucu hatasƒ±

---

## üìä Rate Limiting

- API rate limiting aktif deƒüil
- Production ortamƒ±nda rate limiting eklenmesi √∂nerilir

---

## üß™ Test Endpoints

Test i√ßin √∂rnek veriler:

### Test Kullanƒ±cƒ±sƒ±
```json
{
    "email": "test@example.com",
    "password": "testpass123"
}
```

### Test Todo
```json
{
    "title": "Test Todo",
    "description": "Test a√ßƒ±klama",
    "priority": "high",
    "is_important": true
}
```

### Test Etkinlik
```json
{
    "title": "Test Etkinlik",
    "description": "Test a√ßƒ±klama",
    "start_datetime": "2025-09-20T10:00:00Z",
    "end_datetime": "2025-09-20T11:00:00Z",
    "event_type": "meeting"
}
```

---

## üìù Notlar

- T√ºm tarih/saat deƒüerleri ISO 8601 formatƒ±nda (UTC)
- Dosya y√ºklemeleri i√ßin multipart/form-data kullanƒ±n
- Pagination: Sayfa ba≈üƒ±na 20 kayƒ±t
- Search: Case-insensitive arama
- Filtering: Query parameter'lar ile filtreleme
